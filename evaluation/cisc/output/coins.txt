 
(program
  (= GRID_SIZE 16)
  (= background "white")
  (object ObjType1  (list (Cell 0 0  "red" )))
  (object ObjType2  (list (Cell 0 0  "gold" )))
  (object ObjType3  (list (Cell 0 0  "mediumpurple" )))

  (: obj1 ObjType1)
  (: addedObjType2List (List ObjType2))

  (: addedObjType1List (List ObjType1))
  (: addedObjType3List (List ObjType3))

  (= obj1 (initnext (ObjType1  (Position 7 9)) (prev obj1)))
  (= addedObjType2List (initnext (list (ObjType2  (Position 4 2)) (ObjType2  (Position 4 4)) (ObjType2  (Position 6 2)) (ObjType2  (Position 6 4)) (ObjType2  (Position 8 2)) (ObjType2  (Position 8 4)) (ObjType2  (Position 10 2)) (ObjType2  (Position 10 4)) (ObjType2  (Position 12 2)) (ObjType2  (Position 12 4))) (prev addedObjType2List)))
  
  (= addedObjType1List (initnext (list) (prev addedObjType1List)))
  (= addedObjType3List (initnext (list) (prev addedObjType3List)))

	 (: globalVar1 Int)
	 (= globalVar1 (initnext 2 (prev globalVar1)))

  (: time Int)
  (= time (initnext 0 (+ time 1))) 

  (on true
(= addedObjType2List (removeObj addedObjType2List (--> obj (intersects (prev obj1) (list (prev obj)))))))
  (on true
(= addedObjType3List (updateObj addedObjType3List (--> obj (moveUp (prev obj))) (--> obj true))))
  (on true
(= addedObjType3List (removeObj addedObjType3List (--> obj (in 0 (map (--> obj (.. (.. obj origin) y)) (list (prev obj))))))))
  (on down
(= obj1 (moveDown (prev obj1))))
  (on up
(= obj1 (moveUp (prev obj1))))
  (on right
(= obj1 (moveRight (prev obj1))))
  (on left
(= obj1 (moveLeft (prev obj1))))
  (on (& (intersects (prev obj1) (prev addedObjType2List)) (== (prev globalVar1) 2))
(= globalVar1 1))
  (on (& clicked (== (prev globalVar1) 1))
(= globalVar1 2))
  (on (& (intersects (prev obj1) (prev addedObjType2List)) (== (prev globalVar1) 1))
(= globalVar1 3))
  (on (& clicked (== (prev globalVar1) 3))
(= globalVar1 1))
  (on (& (intersects (prev obj1) (prev addedObjType2List)) (== (prev globalVar1) 3))
(= globalVar1 4))
  (on (& clicked (== (prev globalVar1) 4))
(= globalVar1 3))
  (on (& (intersects (prev obj1) (prev addedObjType2List)) (== (prev globalVar1) 4))
(= globalVar1 5))
  (on (& clicked (== (prev globalVar1) 5))
(= globalVar1 4))
  (on (& (in (prev globalVar1) (list 1 3 3 3 3 3 3 4 4 4 5)) clicked)
(= addedObjType3List (addObj addedObjType3List (ObjType3  (.. (prev obj1) origin))))))





